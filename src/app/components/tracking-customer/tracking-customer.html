<app-navbar-customer></app-navbar-customer>

<div class="page-content">
  <h1>Track Your Parcel</h1>
  <div class="tracking-center">
    <form (ngSubmit)="trackParcel()" class="tracking-form">
      <input
        type="text"
        [(ngModel)]="trackingId"
        name="trackingId"
        placeholder="Enter Tracking ID"
        required
      />
      <button type="submit">Track</button>
    </form>
    <!-- Error display -->
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>
  </div>

  <!-- Tracking result display -->
  <div *ngIf="trackingResult" class="result-card">
    <h2>Status:
      <span [ngClass]="{
        'status-booked': trackingResult?.parStatus === 'BOOKED',
        'status-delivered': trackingResult?.parStatus === 'DELIVERED',
        'status-cancelled': trackingResult?.parStatus === 'CANCELLED'
      }">{{ trackingResult?.parStatus }}</span>
    </h2>
    <div class="detail"><strong>Recipient Name:</strong> {{ trackingResult?.recName }}</div>
    <div class="detail"><strong>Recipient Address:</strong> {{ trackingResult?.recAddress }}</div>
    <div class="detail"><strong>Contact:</strong> {{ trackingResult?.recMobile }}</div>
    <div class="detail"><strong>Parcel:</strong> {{ trackingResult?.parContentsDescription }} ({{ trackingResult?.parWeightGram }}g)</div>
    <div class="detail"><strong>Delivery Type:</strong> {{ trackingResult?.parDeliveryType }}</div>
    <div class="detail"><strong>Packing:</strong> {{ trackingResult?.parPackingPreference }}</div>
    <div class="detail"><strong>Pickup Time:</strong> {{ trackingResult?.parPickupTime | date:'medium' }}</div>
    <div class="detail"><strong>Service Cost:</strong> â‚¹{{ trackingResult?.parServiceCost }}</div>
  </div>
  <!-- Error display (centered, friendly) -->
<div *ngIf="errorMessage" class="error-message not-found">
  <span>ðŸš« {{ errorMessage }}</span>
</div>
</div>
