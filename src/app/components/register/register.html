<div class="form-container">
  <form (ngSubmit)="register()" #registerForm="ngForm" novalidate>
    <h2>Register</h2>

    <!-- Customer Name -->
    <label for="customerName">Customer Name:</label>
    <input
      id="customerName"
      type="text"
      [(ngModel)]="customerName"
      name="customerName"
      required
      [class.invalid]="!customerName && submitted"
    />
    <div class="error" *ngIf="!customerName && submitted">
      Customer Name is required
    </div>

    <!-- Email -->
    <label for="email">Email:</label>
<input
  id="email"
  type="email"
  [(ngModel)]="email"
  name="email"
  required
  [class.invalid]="(submitted && !isValidEmail(email)) || emailExists"
/>
<div class="error" *ngIf="submitted && !isValidEmail(email)">
  Please enter a valid email address
</div>
<div class="error" *ngIf="emailExists">
  Email is already registered. Please try logging in or reset your password.
</div>

    <!-- Mobile -->
    <label for="mobile">Mobile Number:</label>
    <input
      id="mobile"
      type="text"
      [(ngModel)]="mobile"
      name="mobile"
      required
      maxlength="10"
      minlength="10"
      pattern="[0-9]{10}"
      [class.invalid]="submitted && !isValidMobile(mobile)"
    />
    <div class="error" *ngIf="submitted && !isValidMobile(mobile)">
      Please enter a valid 10-digit mobile number
    </div>

    <!-- Address -->
    <label for="address">Address:</label>
    <textarea id="address" [(ngModel)]="address" name="address" rows="3"></textarea>

    <!-- Password -->
    <label for="password">Password:</label>
    <input
      id="password"
      type="password"
      [(ngModel)]="password"
      name="password"
      required
      minlength="6"
      [class.invalid]="submitted && password.length < 6"
    />
    <div class="error" *ngIf="submitted && password.length < 6">
      Password must be at least 6 characters
    </div>

    <!-- Confirm Password -->
    <label for="confirmPassword">Confirm Password:</label>
    <input
      id="confirmPassword"
      type="password"
      [(ngModel)]="confirmPassword"
      name="confirmPassword"
      required
      [class.invalid]="submitted && password !== confirmPassword"
    />
    <div class="error" *ngIf="submitted && password !== confirmPassword">
      Passwords do not match
    </div>

    <!-- Global form error -->
    <div *ngIf="errorMessage" class="error form-error">
      {{ errorMessage }}
    </div>

    <div class="buttons">
      <button class="btn" type="submit">Register</button>
      <button class="btn secondary" type="button" (click)="resetForm()">Reset</button>
    </div>
  </form>

  <div *ngIf="successMessage" class="success">
    {{ successMessage }}
  </div>
</div>
